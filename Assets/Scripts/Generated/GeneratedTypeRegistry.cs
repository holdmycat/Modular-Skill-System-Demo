//------------------------------------------------------------
// File: GeneratedTypeRegistry.cs
// Note: Auto-generated by TypeRegistryGenerator. Safe stub for version control.
//------------------------------------------------------------
using System;
using MongoDB.Bson.Serialization;
using UnityEngine;

namespace Ebonor.DataCtrl.Generated
{
    /// <summary>Static registry of types for BSON registration (generated at build time).</summary>
    public static class GeneratedTypeRegistry
    {
        // Populated by TypeRegistryGenerator during build/import.
        public static readonly Type[] UnityObjectTypes = Array.Empty<Type>();
        public static readonly Type[] BsonParentTypes = Array.Empty<Type>();
        public static readonly Type[] BsonChildTypes = Array.Empty<Type>();

        public static void RegisterAllBsonClassMaps()
        {
            foreach (var type in UnityObjectTypes)
            {
                if (type == null || type.IsGenericType) continue;
                if (!BsonClassMap.IsClassMapRegistered(type))
                    BsonClassMap.LookupClassMap(type);
            }

            foreach (var child in BsonChildTypes)
            {
                foreach (var parent in BsonParentTypes)
                {
                    if (parent != null && parent.IsAssignableFrom(child) && parent != child)
                    {
                        if (!BsonClassMap.IsClassMapRegistered(child))
                            BsonClassMap.LookupClassMap(child);
                    }
                }
            }
        }
    }
}
